<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui" template="/templates/basico.xhtml">

	<ui:define name="tarefas">
		<p:fieldset legend="Cadastrando Professor">
			<br />

			<p:tabView id="tbv1" dynamic="true" cache="true">

				<p:tab title="Área de Inserção">

					<h:form prependId="false" id="formUsuario">
						<p:growl id="msg0" />

						<h:panelGrid columns="3" cellpadding="10" cellspacing="10" styleClass="panelGrid"
							id="grid0">

							<h:inputHidden id="idUsuario"
								value="#{mbCadastroUsuario.usuario.idUsuario}" />
							<h:outputLabel />
							<h:outputLabel />

							<h:outputLabel for="usuario" value="Login:" style="float:right;" />
							<p:inputText 
								id="usuario" 
								validator="loginValidator"
								value="#{mbCadastroProfessor.professor.login }" 
								size="20" 
								required="true" 
								requiredMessage="O campo [Login] é obrigatório!" />
							<p:messages for="usuario" />

							<h:outputLabel for="senha" value="Senha.:" style="float:right;"/>
							<p:password 
								id="senha" size="20" 
								maxlength="22"
								promptLabel="Digite sua Senha"
								value="#{mbCadastroProfessor.confirmaSenha}"
								weakLabel="Senha Fraca" 
								goodLabel="Senha Boa"
								strongLabel="Senha Forte" 
								feedback="true" 
								required="true"
								requiredMessage="O campo [Senha] é obrigatório!" />
							<p:messages for="senha" />

							<h:outputLabel for="senhaconf2" value="Confirmar Senha:" style="float:right;"/>
							<p:password 
								id="senhaconf2" size="20"
								value="#{mbCadastroProfessor.professor.senha}" 
								maxlength="22"
								promptLabel="Confirme sua Senha" 
								required="true"
								requiredMessage="O campo [Confirma Senha] é obrigatório!">
							</p:password>
							<p:messages for="senhaconf2" />

							<h:outputLabel for="sexo" value="Sexo:" style="float:right;"/>
							<p:selectOneMenu 
								id="sexo" 
								style="width: 180px;"
								converterMessage="O campo [Sexo] é obrigatório!"
								value="#{mbCadastroProfessor.professor.sexo.idSexo}">
									<f:selectItem 
										itemLabel="" 
										itemValue="null" />
									<f:selectItems
										value="#{bbSexo.sexos}" 
										var="sexo"
										itemValue="#{sexo.idSexo}" 
										itemLabel="#{sexo.dsSexo}" 
										size="20" />
							</p:selectOneMenu>
							
							<h:outputLabel />
							
							<h:outputLabel for="nomePessoa" value="Nome:" style="float:right;"/>
							<p:inputText 
								id="nomePessoa" 
								size="60"
								value="#{mbCadastroProfessor.professor.nome}" 
								required="true"
								requiredMessage="O campo [Nome] é obrigatório!"
								onkeyup="this.value = this.value.toUpperCase()" />
							<p:messages for="nomePessoa" />

							
							<h:outputLabel for="email" value="E-mail:" style="float:right;"/>
							<p:inputText 
								id="email" 
								size="60"
								value="#{mbCadastroProfessor.professor.email}" 
								required="true"
								requiredMessage="O campo [E-mail] é obrigatório!">
								<f:validator validatorId="emailValidator" />
							</p:inputText>
							<p:messages for="email" />
							
							<h:outputLabel for="telefone" value="Telefone:" style="float:right;"/>
							<p:inputMask id="telefone" 
								size="12" 
								mask="(99) 9999-9999"
								value="#{mbCadastroProfessor.professor.foneCel}" 
								required="true"
								requiredMessage="O campo [Telefone] é obrigatório!" />
							<p:messages for="telefone" />

							<h:outputLabel for="dataNascimento" value="Data de Nascimento:" style="float:right;" />
							<p:calendar id="dataNascimento" 
								size="12"
								yearRange="c-100:c-7"
								value="#{mbCadastroProfessor.professor.dataNascimento}"
								required="true"
								requiredMessage="O campo [Data de Nascimento] é obrigatório!"
								locale="pt_BR" navigator="true" effect="explode"
								pattern="dd/MM/yyyy" />
							<p:messages for="dataNascimento" />

							<h:outputLabel for="cep" value="CEP:" style="float:right;"/>
							<p:inputMask 
								id="cep" size="12" 
								value="#{mbCadastroProfessor.professor.endereco.dsCEP}"
								mask="99999-999" required="true"
								requiredMessage="O campo [CEP] é obrigatório!" />
							<p:messages for="cep" />
								
								<h:outputLabel />
	
							<h:panelGrid columns="2" style="float:right;"> 
								<p:commandButton value="Salvar"
									action="#{mbCadastroProfessor.addUsuario()}" icon="ui-icon-disk"
									update="@form"> 
									<p:ajax listener="#{mbCadastroProfessor.goBack()}"/>
								</p:commandButton>

								<p:commandButton value="Encerrar" action="#{mbCadastroProfessor.goBack()}"
									immediate="true" icon="ui-icon ui-icon-close" >
								</p:commandButton>
							</h:panelGrid>
								
						</h:panelGrid>
					</h:form>
				</p:tab>
			</p:tabView>

		</p:fieldset>
	</ui:define>

</ui:composition>

