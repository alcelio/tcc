<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui" template="/templates/basico.xhtml">

	<ui:define name="tarefas">
		<p:fieldset legend="Cadastrando Aluno">
			<br />


			<p:tabView id="tbv1" dynamic="true" cache="true">

				<p:tab title="Área de Inserção">

					<h:form prependId="false" id="formUsuario">
						<p:growl id="msg0" />

						<h:panelGrid columns="2" cellpadding="10" styleClass="panelGrid"
							id="grid0">

							<h:inputHidden id="idUsuario"
								value="#{mbCadastroUsuario.usuario.idUsuario}" />

							<h:outputLabel />

							<h:outputLabel for="usuario" value="Login:" />
							<p:inputText id="usuario" validator="loginValidator"
								value="#{mbCadastroAluno.aluno.login}" size="20" 
								required="true" requiredMessage="O campo [Login] é obrigatório" >
								</p:inputText>

							<h:outputLabel for="senha" value="Senha.:" />
							<p:password id="senha" size="20" maxlength="22"
								promptLabel="Digite sua Senha"
								value="#{mbCadastroAluno.confirmaSenha}"
								weakLabel="Senha Fraca" goodLabel="Senha Boa"
								strongLabel="Senha Forte" feedback="true" required="true"
								requiredMessage="O campo [Senha] é obrigatório" />

							<h:outputLabel for="senhaconf2" value="Confirmar Senha:" />
							<p:password id="senhaconf2" size="20"
								value="#{mbCadastroAluno.aluno.senha}" maxlength="22"
								promptLabel="Confirme sua Senha" required="true"
								requiredMessage="O campo [Confirma Senha] é obrigatório">
							</p:password>


							<h:outputLabel for="sexo" value="Sexo:" request="true" 
							requestMessage="O campo [Sexo] é obrigatório"/>
							<p:selectOneMenu id="sexo"
								value="#{mbCadastroAluno.aluno.sexo.idSexo}">
								<f:selectItems value="#{bbSexo.sexos}" var="sexo"
									itemValue="#{sexo.idSexo}" itemLabel="#{sexo.dsSexo}" size="20" />
							</p:selectOneMenu>

							<h:outputLabel for="nomePessoa" value="Nome:" />
							<p:inputText id="nomePessoa" size="40"
								value="#{mbCadastroAluno.aluno.nome}" required="true"
								requiredMessage="O campo [Nome] é obrigatório"
								onkeyup="this.value = this.value.toUpperCase()" />

							<h:outputLabel for="telefone" value="Telefone:" />
							<p:inputMask id="telefone" size="40" mask="(99) 9999-9999"
								value="#{mbCadastroAluno.aluno.foneCel}" required="true"
								requiredMessage="O campo [Telefone] é obrigatório"
								onkeyup="this.value = this.value.toUpperCase()" />

							<h:outputLabel for="email" value="E-mail:" />
							<p:inputText id="email" size="40"
								value="#{mbCadastroAluno.aluno.email}" required="true"
								requiredMessage="O campo [E-mail] é obrigatório">
								<f:validator validatorId="emailValidator" />
							</p:inputText>

							<h:outputLabel for="dataNascimento" value="Data de Nasc:" />
							<p:calendar id="dataNascimento" yearRange="c-100:c-7"
								value="#{mbCadastroAluno.aluno.dataNascimento}"
								required="true"
								requiredMessage="O campo [Data de Nascimento] é obrigatório"
								locale="pt_BR" navigator="true" effect="explode"
								pattern="dd/MM/yyyy" />


							<h:outputLabel for="cep" value="CEP.:" />
							<p:inputMask id="cep" size="10" value="#{mbCadastroAluno.aluno.endereco.dsCEP}"
								mask="99999-999" required="true"
								requiredMessage="É obrigatório o preenchimento do campo [CEP]" />

								<h:outputLabel />
	
							<p:panel>
								<p:commandButton value="Salvar"
									action="#{mbCadastroAluno.addUsuario()}" icon="ui-icon-disk"
									update="@all">

								</p:commandButton>
								<p:commandButton value="Encerrar" action="/restrito/home.jsf}"
									immediate="true" icon="ui-icon ui-icon-close">
								</p:commandButton>
							</p:panel>
								
						</h:panelGrid>
					</h:form>
				</p:tab>
			</p:tabView>

		</p:fieldset>
	</ui:define>

</ui:composition>

